!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(3)),a=(n.n(o),n(7)),s=(n.n(a),n(8)),r=(n.n(s),n(9)),l=(n.n(r),n(10)),c=(n.n(l),n(11)),u=(n.n(c),n(12)),d=(n.n(u),n(13)),p=(n.n(d),n(14)),f=(n.n(p),n(15)),h=(n.n(f),n(16)),g=(n.n(h),n(17)),m=(n.n(g),n(18)),v=(n.n(m),n(19)),b=(n.n(v),n(20)),y=(n.n(b),n(21)),$=(n.n(y),n(22)),w=(n.n($),n(23)),C=(n.n(w),n(24)),S=(n.n(C),n(25)),k=(n.n(S),n(26)),x=(n.n(k),n(27)),T=(n.n(x),n(28)),I=(n.n(T),n(29)),D=(n.n(I),n(30));n.n(D)},function(t,e){/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===a?[]:a);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",a=i.data();e+="Text",null==a.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:a.slide;o||i.data("bs.carousel",o=new n(this,a)),"number"==typeof e?o.to(e):s?o[s]():a.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),a=i||this.getItemForDirection(e,o),s=this.interval,r="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,o.addClass(r),a.addClass(r),o.one("bsTransitionEnd",function(){a.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),a=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var s=t.extend({},a.data(),o.data()),r=o.attr("data-slide-to");r&&(s.interval=!1),e.call(a,s),r&&a.data("bs.carousel").to(r),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),o||n.data("bs.collapse",o=new i(this,a)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var a=e(o),s=a.data("bs.collapse"),r=s?"toggle":o.data();n.call(a,r)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(a).each(function(){var i=t(this),o=e(i),a={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=e(o),s=a.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var r={relatedTarget:this};if(a.trigger(i=t.Event("show.bs.dropdown",r)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(a).trigger("focus"),i.trigger("click");var r=o.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var l=r.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<r.length-1&&l++,~l||(l=0),r.eq(l).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,s.prototype.toggle).on("keydown.bs.dropdown.data-api",a,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);a||o.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](i):s.show&&a.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),a=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(a,s,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,a)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var s=o[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,a=this.tip(),s=this.getUID(this.type);this.setContent(),a.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&a.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=a[0].offsetWidth,p=a[0].offsetHeight;if(c){var f=r,h=this.getPosition(this.$viewport);r="bottom"==r&&u.bottom+p>h.bottom?"top":"top"==r&&u.top-p<h.top?"bottom":"right"==r&&u.right+d>h.width?"left":"left"==r&&u.left-d<h.left?"right":r,a.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,u,d,p);this.applyPlacement(g,r);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),e.top+=s,e.left+=r,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(e.top=e.top+a-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),p=d?2*u.left-o+l:2*u.top-a+c,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(p,i[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&a.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,a=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:a?null:e.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,r,l,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-a-s.scroll,l=e.top+a-s.scroll+i;r<s.top?o.top=s.top-r:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-a,u=e.left+a+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,a)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),a=/^#./.test(o)&&t(o);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=a[a.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=a[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),e.trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){var r=t(i);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function a(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),r=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&r?s.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),a="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,a)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),a=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=a.top)&&"bottom":!(o+s<=t-i)&&"bottom";var r=null==this.affixed,l=r?o:a.top,c=r?s:e;return null!=n&&o<=n?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,a=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(a=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var r=this.getState(s,e,o,a);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:s-e-a})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery)},function(t,e,n){(function(t,e){!function(t,e){e()}(0,function(){"use strict";function n(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void r(e.promise,t)}s(e.promise,i)}else(1===t._state?s:r)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){r(t,e)}}function r(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;n>e;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,r(e,t))})}catch(t){if(n)return;n=!0,r(e,t)}}var u=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=n,o.all=function(t){return new o(function(e,n){function i(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,function(e){i(t,e)},n)}o[t]=s,0==--a&&e(o)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var a=o.length,s=0;o.length>s;s++)i(s,o[s])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){u(t,0)},o._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype.finally||(d.Promise.prototype.finally=n):d.Promise=o})}).call(e,n(4).setImmediate,n(0))},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;e.setTimeout=function(){return new i(a.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(5),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(0))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[l]=i,r(l),l++}function o(t){delete c[t]}function a(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(u)setTimeout(s,0,t);else{var e=c[t];if(e){u=!0;try{a(e)}finally{o(t),u=!1}}}}if(!t.setImmediate){var r,l=1,c={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){r=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},r=function(e){t.port2.postMessage(e)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var t=d.documentElement;r=function(e){var n=d.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){r=function(t){setTimeout(s,0,t)}}(),p.setImmediate=i,p.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(0),n(6))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?h=f.concat(h):m=-1,h.length&&r())}function r(){if(!g){var t=o(s);g=!0;for(var e=h.length;e;){for(f=h,h=[];++m<e;)f&&f[m].run();m=-1,e=h.length}f=null,g=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,d,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var f,h=[],g=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new l(t,e)),1!==h.length||g||o(r)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){Type.registerNamespace("app.alerts"),app.alerts=function(){function t(){var t=e();t?n(t):a()}function e(){if(void 0!==typeof Storage&&sessionStorage.alertItems)return JSON.parse(sessionStorage.alertItems)}function n(t){var e=!1,n=!1;$.each(t,function(t,a){if("Site"==a.type)e||(i(a),e=!0);else if($.each(a.urls,function(t,e){if(!n&&e.toLowerCase()==_spPageContextInfo.serverRequestPath.toLowerCase())return o(a),n=!0,!1}),e&&n)return!1})}function i(t){if($(".alert-container").length){var e;if(void 0!==typeof Storage&&(e=sessionStorage.lastSiteAlertDate),!e||e!=t.updateDate){$(".alert-container .header-alert-content").html(t.content),$(".alert-container").removeClass("hidden");var n=$(".alert-container").outerHeight();$(".hero-bg").css("margin-top",n+"px"),"portfolio"===app.siteoptions.site&&$(".home-page").length&&($("header.home .search-container .search-btn").css("background","transparent"),$("header.home .search-container .search-btn").css("color","#ececec"),$(".alert-container").is(":visible")&&($("header.home").css("position","relative"),$("header.home .search-container .search-btn").css("background","#ececec"),$("header.home .search-container .search-btn").css("color","#22313f"),$("#contentBox").css("position","relative"),$(".alert-container .header-alert-hide-btn").click(function(){$("header.home").css("position","absolute"),$("header.home .search-container .search-btn").css("background","transparent"),$("header.home .search-container .search-btn").css("color","#ececec")}))),localStorage.setItem("lastSiteAlertDate",t.updateDate)}}}function o(t){$(".warning-container").length&&($(".warning-container .warning-text").html(t.content),$(".warning-container").removeClass("hidden"))}function a(){if(app.siteoptions.useSiteDataScript){var t=app.sitedata.alertItems;t&&n(t)}else app.sp.ajax.post("/_layouts/15/api/Data.aspx/GetAlertsData",{},null,function(t){if(t.d.success){var e=t.d.data;s(e),n(e)}else console.log(t.d.data.internalError)})}function s(t){void 0!==typeof Storage&&(sessionStorage.alertItems=JSON.stringify(t))}return{init:function(){t(),$(".alert-container").length&&$(".header-alert-hide-btn").click(function(){$(this).closest(".alert-container").slideUp(100);$(".hero-bg").css("margin-top","0px"),"portfolio"===app.siteoptions.site&&$(".home-page").length&&($(".home-page .hero-block").css("margin-top","0px"),$("header.home .search-container .search-btn").css("background","transparent"),$("header.home .search-container .search-btn").css("color","#ffffff")),void 0!==typeof Storage&&(sessionStorage.lastSiteAlertDate=localStorage.getItem("lastSiteAlertDate"))})}}}(),"undefined"!=typeof angular?angular.element(function(){window.setTimeout(window.app.alerts.init,100)}):_spBodyOnLoadFunctions.push(window.app.alerts.init)},function(t,e){Type.registerNamespace("app.loading"),app.loading={init:function(){$(".app-loading").hide(),setTimeout(function(){$(document).on({ajaxStart:function(){$(".app-loading").show()},ajaxStop:function(){$(".app-loading").hide()}})},3e3)},show:function(){$(".app-loading").show()},hide:function(){$(".app-loading").hide()}};setTimeout(function(){document.querySelector(".app-loading").style.display="none",$(".block-ui-wrapper").length&&(document.querySelector(".block-ui-wrapper").style.display="none"),console.log("loading spinner timeout...")},1e4),$(document).ready(function(){app.loading.init()})},function(t,e){Type.registerNamespace("app.banner"),app.banner=function(){function t(){var t=$(".hero-bg"),e=$("#pageTitle"),n=$("#PublishingPageImage").find("img").length;if(t){var i,o=$("[id='DefaultBannerImageUrl']").val(),a=$("[id*='PageBannerImage']").val();if(""!==a&void 0!==a){i=$(a).attr("src")}else i=o;i&&t.css("background-image",'url("'+i+'")'),n>0&&e.hide()}}return{init:function(){$(document).ready({ajaxStart:function(){},ajaxStop:function(){},ajaxComplete:function(){}}),t()}}}(),$(document).ready(function(){"1"!==$("#MSOLayout_InDesignMode").val()&&app.banner.init()})},function(t,e){!function(t){t.fn.stringify=function(t){if(void 0!==window.JSON)return JSON.stringify(t);var e=typeof t;if("object"!=e||null===t)return"string"==e&&(t='"'+t+'"'),String(t);var n,i,o=[],a=t&&t.constructor==Array;for(n in t)i=t[n],e=typeof i,t.hasOwnProperty(n)&&("string"==e?i='"'+i+'"':"object"==e&&null!==i&&(i=jQuery.stringify(i)),o.push((a?"":'"'+n+'":')+String(i)));return(a?"[":"{")+String(o)+(a?"]":"}")},String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})})}(jQuery)},function(t,e){Type.registerNamespace("app.displaycomponent"),app.displaycomponent=function(){function t(t,e){var n=$('<iframe class="full-frame" src="" width="100%"></iframe>');t.html(""),t.prepend(n),n[0].onload=function(){n.css("height",$(window).height()),n.contents().find("head").append('<style type="text/css">main > .container{width: 100%; padding:2em;}; </style>')},n[0].src=e,$(window).resize(function(){n.css("height",$(window).height())})}function e(){n()&&$("[data-model-url]").each(function(t,e){var n=$(e).attr("data-model-url"),o=$(e).attr("data-toggle"),a=$(e).attr("data-target");"modal"==o&&i(n,a)})}function n(){return null!=$("[data-model-url]")&&$("[data-model-url]").length>0}function i(e,n){var i=$(n+"-body");if(0==i.length){var o='<div class="modal fade sidebar" id="~0~" role="dialog" style="display: none;"><div class="modal-dialog"><div class="modal-content"><div class="modal-body no-padding" id="~0~-body"></div><div class="modal-footer"><button class="btn btn-default" type="button" data-dismiss="modal"><i class="fa fa-times"></i>Close</button><button class="btn btn-default" type="button"><i class="fa fa-print"></i>Print</button><br/><br/></div></div></div></div>',a=n.replace("#","");o=o.replace(/~0~/g,a),$(o).appendTo("body"),i=$(n+"-body")}t(i,e)}return{init:function(){if("1"!==$("#MSOLayout_InDesignMode").val()&&e(),"1"===$("#MSOLayout_InDesignMode").val()){window.setTimeout(function(){$(".ms-rtestate-field a").unbind("click"),$(".ms-rtestate-field a").click(function(t){t.preventDefault()}),$(".ms-rtestate-field").on("click","a",function(t){t.preventDefault()})},1e3);var t=document.querySelectorAll('input[id$="_GlbPageUIDHiddenField_Input"]')[0];void 0!==t&&t.value.length>0?console.log("UID: "+t):void 0!==t&&(t.value=SP.Guid.newGuid())}}}}(),"undefined"!=typeof angular?angular.element(function(){window.setTimeout(window.app.displaycomponent.init,100)}):_spBodyOnLoadFunctions.push(window.app.displaycomponent.init)},function(t,e){Type.registerNamespace("app.searchwidget"),app.searchwidget={init:function(){this.initSearchTerms();var t=this;$(".search-input").on("focus",function(){$(this).closest(".search-form").addClass("focused")}),$(".search-input").on("blur",function(){$(this).closest(".search-form").removeClass("focused")}),$(".search-btn").click(function(){$(".search-overlay").fadeIn("fast").find("input").focus(),$(".search-overlay-content input.search-input").val("")}),$(".close-search-overlay-btn").click(function(){$(".search-overlay").fadeOut("fast")}),$(".search-overlay-content input.search-input").keypress(function(e){"13"==(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),t.searchOverlaySearch(!1))}),$(".search-submit").click(function(){t.searchOverlaySearch(!1)}),$(".previous-searches .previous-term").click(function(){$(".search-overlay-content input.search-input").val($(this).text()),t.searchOverlaySearch($(this).data("exactSearchTerm"))}),$(".popular-searches .popular-term").click(function(){$(".search-overlay-content input.search-input").val($(this).text()),t.searchOverlaySearch(!0)});var e=$(".search-overlay-content input.search-input"),n=parseInt(e.css("font-size"),10);e.keyup(function(t){if($(this).val().length>0){var e=$(this).val(),i=$(this).css("font-size"),o=document.createElement("span");o.style.visibility="hidden",o.style.whiteSpace="nowrap",document.body.appendChild(o),o.style.fontSize=i,o.style.fontFamily=$(this).css("font-family"),o.innerText=e;var a=o.offsetWidth;o.remove();var s=$(this)[0].offsetWidth,r=(s-100)/a,l=$(this).css("font-size");l=parseInt(l,10);var c=parseInt(l*r);c<14&&(c=14),c>=n&&(c=n),$(this).css({"font-size":c+"px"})}else $(this).css({"font-size":n+"px"})})},initSearchTerms:function(){this.populatePopularSearches(),this.populatePreviousSearches()},populatePopularSearches:function(){var t=[],e=JSON.parse(app.config.getConfigByKey("Internet.Search","PopularSearchTermsJson").trim()),n=_spPageContextInfo.webServerRelativeUrl;for(o in e.popularsearch)if(e.popularsearch[o].site===n){t=e.popularsearch[o].keywords;break}var i=$("ul.popular-searches");i.html("");for(var o=0;o<t.length;o++)if(o<=4){var a='<a href="#" class="popular-term">'+t[o]+"</a>",s=$("<li/>").append(a);i.append(s)}},populatePreviousSearches:function(){var t=[],e=[];localStorage.getItem("previousSearches")&&(e=JSON.parse(localStorage.getItem("previousSearches")));for(var n=0;n<e.length;n++){for(var i=!1,o=0;o<t.length;o++)if(e[n]==t[o]){i=!0;break}i||t.push(e[n])}var a=$("ul.previous-searches");a.html("");for(var n=0;n<t.length;n++)if(n<=4){var s='<a href="#" class="previous-term" data-exact-search-term="'+t[n].exactSearchTerm+'">'+t[n].term+"</a>",r=$("<li/>").append(s);a.append(r)}},searchOverlaySearch:function(t){var e=$(".search-input").val();if(e.length>0){var n=app.config.getConfigByKey("Internet.Search","CustomSearch").trim(),i=n+e;t&&(i+="&exactSearchTerm=true"),window.location.href=i}}},$(document).ready(function(){$(".search-container").length>0&&app.searchwidget.init()})},function(t,e){Type.registerNamespace("app.sp"),window.AddEvtHandler=function(t,e,n){browseris.ie?t.addEventListener?t.addEventListener(e.substr(2),n,!1):t.attachEvent(e,n):t.addEventListener(e.substr(2),n,!1)},ExecuteOrDelayUntilScriptLoaded(function(){CUI.Ribbon.prototype._$1Y_0=CUI.Ribbon.prototype.$1Y_0,CUI.Ribbon.prototype.$1Y_0=function(){this._$1Y_0()}},"cui.js"),"1"===$("#MSOLayout_InDesignMode").val()&&(ExecuteOrDelayUntilScriptLoaded(function(){RTE.Canvas.initialFocusOnRichText=function(){return!1},RTE.Canvas.setInitialFocus=function(){}},"sp.ui.rte.js"),ExecuteOrDelayUntilScriptLoaded(function(){RTE.PublishingRichTextEditor.setInitialFocusToEditableRegion=function(){}},"sp.ui.rte.publishing.js"),ExecuteOrDelayUntilScriptLoaded(function(){SP.UI.UIUtility.$u=function(t){for(var e=t;e;){var n=e.className;if(n&&"string"==typeof n&&(-1!==n.indexOf("ms-cui")||-1!==n.indexOf("ms-rtefocus-invalid")||-1!==n.indexOf("ms-dlgOverlay")||-1!==n.indexOf("ms-dlgFrame")||-1!==n.indexOf("ms-dlgTitle")||-1!==n.indexOf("ms-dlgTitleText")||-1!==n.indexOf("ms-siteactions")||-1!==n.indexOf("ms-core-deltaSuiteBarRight")))return!0;e=e.parentNode}return"HTML"===t.tagName}},"sp.init.js"),ExecuteOrDelayUntilScriptLoaded(function(){SP.Ribbon.Utility.$G=function(t,e){return!!t&&!SP.UI.UIUtility.isSvgNode(t)&&"string"==typeof t.className&&Sys.UI.DomElement.containsCssClass(t,e)}},"sp.ribbon.js")),app.sp.ui=function(){return{add_load:function(t){if("function"==typeof t){if("undefined"!=typeof angular)return void angular.element(function(){window.setTimeout(t,100)});_spBodyOnLoadFunctions.push(t)}},init:function(){if("1"===$("#MSOLayout_InDesignMode").val()&&($("body").addClass("edit-mode"),$("#contentBox .content-page.full-page-edit > .row > .col-sm-3.ms-edit-overlay").hide().parent().children(".col-sm-9").removeClass("col-sm-9").addClass("col-sm-12"),$.fn.block&&$("body.edit-mode .ms-edit-overlay").block({message:null,overlayCSS:{backgroundColor:"#fff",cursor:"not-allowed"}}),$('#MSOTlPn_Tbl input[type="submit"]').attr("formnovalidate","formnovalidate")),$("html.ms-dialog").length&&$("#contentBox .content-page > .row > .col-sm-3.ms-dialogHidden").parent().children(".col-sm-9").removeClass("col-sm-9").addClass("col-sm-12"),$("#pageModified").text().length){var t=$("#pageModified").text().trim().split(" ");if(t.length>0){date=t[0].split("/");var e=new Date(date[2],date[1]-1,date[0]);const n=["January","February","March","April","May","June","July","August","September","October","November","December"];$("#pageModified").text(e.getDate()+" "+n[e.getMonth()]+" "+e.getFullYear()),$("#pageModified").removeClass("hide")}}},format:{fileSize:function(t,e,n,i,o){var a=(e=Math,n=e.log,i=1024,o=n(t)/n(i)|0,t/e.pow(i,o)).toFixed(2);return isNaN(a)?"":a+" "+(o?"kMGTPEZY"[--o]+"B":"B")}}}}(),app.sp.ajax=function(){var t=/^https?:\/\//i;return{post:function(e,n,i,a,s){UpdateFormDigest(_spPageContextInfo.webServerRelativeUrl,_spFormDigestRefreshInterval),o=$.extend({headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()}},i||{}),$.ajax({url:t.test(e)?e:((e||"").startsWith("/")?_spPageContextInfo.siteAbsoluteUrl:_spPageContextInfo.webAbsoluteUrl+"/")+e,type:"POST",data:"string"==typeof n?n:JSON.stringify(n),headers:o.headers||{},dataType:"json",success:function(t){a&&a(t)},error:function(t){s&&s(t)}})}}}(),app.sp.ajaxSync=function(){var t=/^https?:\/\//i;return{post:function(e,n,i,a,s){UpdateFormDigest(_spPageContextInfo.webServerRelativeUrl,_spFormDigestRefreshInterval),o=$.extend({headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()}},i||{}),$.ajax({url:t.test(e)?e:((e||"").startsWith("/")?_spPageContextInfo.siteAbsoluteUrl:_spPageContextInfo.webAbsoluteUrl+"/")+e,type:"POST",data:"string"==typeof n?n:JSON.stringify(n),headers:o.headers||{},async:!1,dataType:"json",success:function(t){a&&a(t)},error:function(t){s&&s(t)}})}}}(),_spBodyOnLoadFunctions.push(app.sp.ui.init)},function(t,e){function n(){var t=$(".has-sub-menu.open").length+1,e=$(window).width(),n=$(".sub-menu").width(),i=Math.floor(e/n),o=i>t;if(i<1&&(i=1),o)$('ul[class="menu"]:not(.tiles)').css("transform","translateX(0)");else{var a=Math.ceil(t-i),s=a*n;$('ul[class="menu"]:not(.tiles)').css("transform","translateX(-"+s+"px)")}1===i&&t>1?$(".back-btn").show():$(".back-btn").hide()}function i(){$(".has-sub-menu").removeClass("open"),n()}function o(){var t=$(".nav-overlay"),e=$(".side-navigation"),n=($(".side-navigation > .menu"),$(".menu-close-btn"));$(".menu-open-btn").attr("aria-expanded","true"),t.show(),e.addClass("open"),n.focus(),e.find("a").removeAttr("tabindex"),n.removeAttr("tabindex"),a(),$(document).keyup(function(t){27===t.keyCode&&n.click()}),n.on("keydown",function(t){9===(t.which||t.keyCode)&&t.shiftKey&&setTimeout(function(){n.focus()},100)})}function a(){var t=$(".side-navigation > .menu"),e=t.find("li:visible > a"),n=e.last(),i=$(".menu-close-btn"),o=$(".side-navigation");e.unbind("blur"),n.blur(function(){o.hasClass("open")&&i.focus()})}function s(){var t=$(".nav-overlay"),e=$(".side-navigation"),n=$(".menu-close-btn");t.hide(),e.removeClass("open"),e.find("a").attr("tabindex","-1"),n.attr("tabindex","-1"),i(),$(".menu-open-btn").attr("aria-expanded","false").focus()}function r(){var t=$(".side-navigation"),e=$(".menu-close-btn");$(".menu-open-btn").attr("aria-expanded","false"),t.removeClass("open"),t.find("a").attr("tabindex","-1"),e.attr("tabindex","-1"),t.find("li.has-sub-menu > a").attr("aria-expanded","false")}function l(){function t(t){t.siblings(".has-sub-menu").each(function(){e($(this))}),t.addClass("open"),t.find("> a").attr("aria-expanded","true"),setTimeout(function(){r.find("li:visible a").removeAttr("tabindex"),r.find("li:hidden a").attr("tabindex","-1"),a()},250),n()}function e(t){t.removeClass("open"),t.find("> a").attr("aria-expanded","false"),t.find(".has-sub-menu").removeClass("open"),t.find(".has-sub-menu > a").attr("aria-expanded","false"),setTimeout(function(){r.find("li:visible a").removeAttr("tabindex"),r.find("li:hidden a").attr("tabindex","-1"),a()},250),n()}var i=$(".nav-overlay"),r=$(".side-navigation"),l=$(".menu-open-btn"),c=$(".menu-close-btn"),u=($(".has-sub-menu a"),$(".main-menu")),d=$(".breadcrumb");l.click(function(){o()}),c.click(function(){s(),l.focus()}),i.click(function(){s()}),r.on("click",".has-sub-menu > a",function(n){n.preventDefault();var i=$(this).parent();i.hasClass("open")?e(i):t(i)}),u.add(d).on("click",".navigation-node > a",function(e){e.preventDefault();var n=$(this).attr("href"),i=$('.side-navigation li:has([href="'+n+'"])');$("#s4-workspace").animate({scrollTop:0},"fast"),o(),t(i),i.find('[href="'+n+'"]').focus()}),setTimeout(function(){$(".sub-menu").each(function(){var t=$('<li class="back-btn"><a href="javascript:void(0)">Back</a></li>').hide();t.click(function(){e($(this).closest(".has-sub-menu"))}),$(this).prepend(t)})},1200)}Type.registerNamespace("app.menu"),app.menu=function(){function t(t){var e=app.siteoptions.spMenuCache;e||(e="immi");var n=null;app.sp.ajax.post("/_layouts/15/api/Data.aspx/GetSiteNavigation",{siteName:e},null,function(e){e.d.success?(n=e.d.data,d(n),h(n,t)):console.log(e.d.data.internalError)})}function e(){var t;return void 0!==typeof Storage&&sessionStorage.currentLanguage&&(t=sessionStorage.currentLanguage),t}function n(t){void 0!==typeof Storage&&(sessionStorage.currentLanguage=t)}function i(){var t;if(void 0!==typeof Storage&&sessionStorage.topMenuElement){if(""==sessionStorage.topMenuElement)return t;t=sessionStorage.topMenuElement}return t}function a(t){void 0!==typeof Storage&&(sessionStorage.topMenuElement=t)}function s(t){void 0!==typeof Storage&&(sessionStorage.topMenuElement="")}function l(){var t;return void 0!==typeof Storage&&sessionStorage.multilingualUIElements&&(t=sessionStorage.multilingualUIElements),t}function c(t){void 0!==typeof Storage&&(sessionStorage.multilingualUIElements=t)}function u(){var t;return void 0!==typeof Storage&&sessionStorage.menuItems&&(t=JSON.parse(sessionStorage.menuItems)),t}function d(t){void 0!==typeof Storage&&(sessionStorage.menuItems=JSON.stringify(t))}function p(){var t;return void 0!==typeof Storage&&sessionStorage.languagePickerItems&&(t=JSON.parse(sessionStorage.languagePickerItems)),t}function f(t){void 0!==typeof Storage&&(sessionStorage.languagePickerItems=JSON.stringify(t))}function h(t,e){if(null!=t){I(_spPageContextInfo.serverRequestPath,t),w(t),0!=H.ispage||_spPageContextInfo.userId||(window.location.href="/"),app.siteoptions.enableMultilingual?g(H,t):$("#language-selector-container").hide(),E(t),app.siteoptions.disableBreadcrumbs?$(".breadcrumbs-container").hide():D(t),O(t),M(t),B(t),P(t),H.isbetapage&&Q(),app.siteoptions.enableMultilingual&&b(),"function"==typeof e&&e()}}function g(t,e){y(t,e);var n=$("#language-selector-dropdown");if(app.siteoptions.useSiteDataScript)var i=app.sitedata.languagePickerItems;else var i=p();null!=i&&(i.forEach(function(e,i){if("English"!=e.key&&k(t,e.code)){var o=$("<option value='"+e.code+"'></option>");o.text(1==e.isrighttoleft?e.text+" | "+e.key:e.key+" | "+e.text),n.append(o)}}),n.append("<option value='en'>English</option>"),n.find("option[value='"+z+"']").prop("selected",!0),S(z,i),n.change(function(){z=n.val(),m(),C()}),f(i),"my"==z&&$("main").addClass("lang-burmese"))}function m(){s()}function v(){return!!$("body").hasClass("right-to-left")}function b(){if(app.siteoptions.useSiteDataScript)var t=app.sitedata.multilingualUIElements;else var t=l();null!=t&&(t.forEach(function(t,e){var n=$("#"+t.elementid).html(),i=$.grep(t.languages,function(t,e){return"en"===t.langCode}),o=$.grep(t.languages,function(t,e){return t.langCode===z});$("#"+t.elementid).html(o.length>0?o[0].text:i.length>0?i[0].text:n)}),c(t))}function y(t,e){_spPageContextInfo.serverRequestPath;"{}"!=JSON.stringify(t)?W&&"en"!=z&&!_spPageContextInfo.userId&&C():z="en"}function w(t){if(!app.siteoptions.enableMultilingual)return!1;var i=e();if(null!=i)_spPageContextInfo.userId?z&&n(z):z=i;else if($("body.ie").length)app.sp.ajaxSync.post("/_layouts/15/api/Data.aspx/GetUserBrowserLanguage",{},null,function(t){t.d.success?z=t.d.data.split("-")[0]:(console.log(t.d.data.internalError),z="en")});else if(navigator.language||navigator.userLanguage){var o=navigator.language||navigator.userLanguage;o=o.split("-")[0],z=k(H,o)?o.split("-")[0]:"en"}else z="en"}function C(){n(z);var t=N(H,z);""!=t&&(window.location=t)}function S(t,e){var n=($("#language-selector-dropdown"),$.grep(e,function(e,n){return e.code===t}));null!=n&&n.length>0&&($("body").toggleClass("right-to-left",n[0].isrighttoleft),$("body.right-to-left .apply-direction").attr("dir","rtl"))}function k(t,e){var n;return null!=t&&null!=t.languages&&null!=e&&(n=$.grep(t.languages,function(t,n){return t.code===e})),null!=n&&n.length>0}function x(e){if(app.siteoptions.useSiteDataScript)var n=app.sitedata.menuItems;else var n=u();null!=n?h(n,e):t(e)}function T(t,e){function n(e){for(var a=0;a<e.length;a++){if(i.push(e[a]),A(e[a])==t&&N(e[a])===window.location.pathname.replace(/\/\//g,"/")){o=!0;break}if(e[a].childterms&&(n(e[a].childterms),o))break;i.pop()}}var i=[],o=!1;return n(e),i}function I(t,e){function i(e){for(var o=0;o<e.length;o++){if(A(e[o],"en")==t){H=e[o],W=!0;break}if(app.siteoptions.enableMultilingual&&e[o].languages){var a=$.grep(e[o].languages,function(e,n){return e.options.langPath.relativepageurl===t});if(a.length>0){W=!1,z=a[0].code,n(z),H=e[o];break}}e[o].childterms&&i(e[o].childterms)}}i(e)}function D(t){var e=_spPageContextInfo.serverRequestPath,n=$("ol.breadcrumb"),i=T(e,t);v()&&n.attr("dir","rtl");var o="<a href='/' id='ctlBreadcrumbsHome'>Home</a>",a=$("<li/>").append(o);n.append(a);for(var s=0;s<i.length-1;s++)if(!i[s].istabset){var r=R(i[s],z),l=N(i[s]),o="<a href='"+l+"'>"+r+"</a>",a=$("<li />");i[s].leftnav||a.addClass("has-sub-menu"),!0!==i[s].ispage&&a.addClass("navigation-node"),a.append(o),n.append(a)}}function E(t){v()&&$('ul[class="menu"]:not(.tiles)').attr("dir","rtl");var e=i();if(null!=e)$('ul[class="menu"]:not(.tiles)').html(e);else{new Date;e=$('ul[class="menu"]:not(.tiles)'),t.forEach(function(t,n){t.isauthuseroption&&!_spPageContextInfo.userId&&(t.hideoption=!0),t.hideoption||F(e,t)}),a(e.html()),new Date}}function O(t){var e=$("ul.main-menu");t.forEach(function(t,n){t.isauthuseroption&&!_spPageContextInfo.userId&&(t.hideoption=!0),!t.hideoption&&t.ishomepagemenu&&L(e,t)})}function P(t){function e(t,o){var a=[],s=_spPageContextInfo.serverRequestPath;if(A(o)==s&&N(o)===window.location.pathname.replace(/\/\//g,"/")){if(o.isauthuseroption&&!_spPageContextInfo.userId&&(o.leftnav=!1),o&&o.leftnav)if(o.childterms&&o.childterms.length>0){var r=!1;o.childterms.forEach(function(t,e){t.isauthuseroption&&!_spPageContextInfo.userId&&(t.leftnav=!1),t.leftnav&&(r=!0)});var l=r?o:t&&t.childterms?t:o;a.push(l),l.childterms.forEach(function(t,e){t.isauthuseroption&&!_spPageContextInfo.userId&&(t.leftnav=!1),t.leftnav&&a.push(t)})}else a.push(t),t.childterms.forEach(function(t,e){t.isauthuseroption&&!_spPageContextInfo.userId&&(t.leftnav=!1),t.leftnav&&a.push(t)})}else o.childterms&&o.childterms.forEach(function(t,n){e(o,t)});a.length>0&&a.forEach(function(t,e){if(t.leftnav&&!t.isdeprecated){i=!0;var o=A(t)==s?"active":"",a="<a class='left-menu-sticky' href='"+N(t)+"'>"+R(t)+"</a>",r=$('<li class="'+o+'"/>').append(a);n.append(r)}})}var n=$("ul.content-menu"),i=!1;n.length>0&&(t.forEach(function(t,n){e(null,t)}),i?($(".content-menu-container").addClass("pin"),$(".content-menu-container").removeClass("hidden"),$(".content-main").removeClass("col-sm-12"),$(".content-main").addClass("col-sm-8 col-sm-push-1")):$(".content-menu-container").removeClass("pin"),v()&&($(".content-menu-container").addClass("col-sm-push-9"),$(".content-menu-container").attr("dir","rtl"),$(".content-main").removeClass("col-sm-push-1"),$(".content-main").addClass("col-sm-pull-3")))}function M(t){var e=$(".topnav-container ul.tabs");new Date;ctopNavItems=e,t.forEach(function(t,n){if(t.isauthuseroption&&!_spPageContextInfo.userId&&(t.hideoption=!0),!t.hideoption&&t.istopnav){var i="<a href='"+N(t)+"'>";t.navinactiveimage&&(i+="<img src='"+t.navinactiveimage+"' alt='Icon image for "+t.title+"' />"),t.navactiveimage&&(i+="<img src='"+t.navactiveimage+"' alt='Icon image for "+t.title+"' class='active' />"),i+=R(t,z),i+="</a>";var o=$('<li class="tab" />').append(i);N(H)==N(t)&&o.addClass("active"),e.append(o)}}),new Date}function A(t,e){var n=e||z;if("en"!=n&&app.siteoptions.enableMultilingual){var i=$.grep(t.languages,function(t,e){return t.code===n});return i.length>0?i[0].options.langPath.relativepageurl:""}return null!=t&&null!=t.navpath&&null!=t.navpath.relativepageurl?t.navpath.relativepageurl:""}function N(t,e){var n=e||z;if("en"!=n&&app.siteoptions.enableMultilingual){var i=$.grep(t.languages,function(t,e){return t.code===n});return i.length>0?i[0].options.langPath.relativefriendlyurl:""}return null!=t&&null!=t.navpath&&null!=t.navpath.relativefriendlyurl?t.navpath.relativefriendlyurl:""}function R(t,e){var n=e||z;if("en"===n||!app.siteoptions.enableMultilingual)return t.title;if(t.languages){var i=$.grep(t.languages,function(t,e){return t.code===n});return i.length>0?i[0].options.langtext:t.title}return t.title}function B(t){function e(n,i){n.forEach(function(n,a){n.id==i?(n.isauthuseroption&&!_spPageContextInfo.userId&&(n.istabset=!1),n.istabset?o=n:e(t,n.parentid)):n.childterms&&e(n.childterms,i)})}var n=$(".tabs-container ul.tabs"),i=$(".select-tabs"),o=null;1==n.length&&(H.istabset?o=H:e(t,H.parentid),o&&(o.childterms.forEach(function(t,e){var o=!0;if(t.isauthuseroption&&!_spPageContextInfo.userId&&(o=!1),o){var a=j(t),s=a?"active":"",r="<a href='"+N(t)+"'>"+R(t)+"</a>",l=$('<li class="tab '+s+'" />').append(r);n.append(l),U(i,t,R(t),a)}}),i.change(function(){var t=$(this).find("option:selected")[0];window.location.href=t.value})),0==n.children().length&&$(".tabs-container-mobile").removeClass("visible-xs"))}function U(t,e,n,i){t.append(new Option(n,N(e),i,i)),e.childterms&&e.childterms.forEach(function(e,n){var i="- "+R(e);U(t,e,i,!1)})}function j(t){function e(t){if(t.childterms)for(var i=0;i<t.childterms.length;i++){var o=t.childterms[i];""!==N(o)&&(n=N(H).indexOf(N(o))>-1),n?i=t.childterms.length:!n&&H.childterms&&e(o)}}var n=N(H).indexOf(N(t))>-1;return!n&&t.childterms&&e(t),n}function F(t,e){if(!e.isdeprecated)if(e.childterms){var n="<a href='"+N(e)+"'>"+R(e)+"</a>",i=$("<li/>").append(n);t.append(i);var o=$("<ul/>");e.istabset||e.leftnav||$.each(e.childterms,function(t,e){e.isauthuseroption&&!_spPageContextInfo.userId&&(e.hideoption=!0),e.hideoption||(i.addClass("has-sub-menu"),o.hasClass("sub-menu")||(o.addClass("sub-menu"),i.append(o)),F(o,e))})}else{var n="<a href='"+N(e)+"'>"+R(e)+"</a>",i=$("<li/>").append(n);t.append(i)}}function L(t,e){if(!e.isdeprecated){var n="<a href='"+N(e)+"'>"+R(e)+"</a>",i=$("<li/>").append(n);if(t.append(i),e.childterms){var o=_.filter(e.childterms,function(t){return!t.hideoption});!e.istabset&&o.length>0&&i.addClass("navigation-node has-sub-menu arrow")}}}function Q(){"1"!==$("#MSOLayout_InDesignMode").val()&&G()}function G(){var t,e='<span class="beta-badge"><a href="/Pages/Conditions-of-use.aspx" target="_blank">beta</a></span>',n=$(".hero-block-content-inner h1:first");if(n&&n.length>0){var i=n.html().lastIndexOf(n.text().trim());t=n.html().substring(0,i),t+=n.text().trim(),t+=e,t+=n.html().substring(i+n.text().trim().length),n.html(t)}else{var o=$(".section-title + h1");o&&o.length>0&&o.html(o.text().trim()+e)}}var H={},z="en",W=!0;return{init:function(t){x(t),r(),$("#skip-to-nav").on("click",function(){if("0px"==$("#skip-to-nav").css("top"))return o(),!1}),setTimeout(function(){$("input[type=checkbox], input[type=radio]").on("keydown",function(t){13===(t.which||t.keyCode)&&t.preventDefault()})},2e3)}}}(),$(document).ready(function(){l(),app.menu.init(function(){})}),$(document).ready(function(){($(".home-page").length||$(".portfolio-page").length)&&$(".footer-feedback").hide()})},function(t,e){Type.registerNamespace("app.config"),app.config=function(){function t(){var t=app.siteoptions.site,e=new Array({Product:"Internet.MasterPage",Key:"BetaMessage"},{Product:"Internet.MasterPage",Key:"ExternalPopupMessage"},{Product:"Internet.Search",Key:"CustomSearch"},{Product:"Internet.Search",Key:"PopularSearchTermsJson"},{Product:"Internet.Search",Key:"SearchUrlMapJson"},{Product:"Internet.Search",Key:"SearchContentSource"},{Product:"Internet.News",Key:"NewsContentSource"},{Product:"Internet.News",Key:"NewsCarouselMaxCount"},{Product:"Internet.GoogleCaptcha",Key:"ReCaptchaScript"},{Product:"Internet.Clickbot",Key:"ClickbotConfig"},{Product:"Internet.Clickbot",Key:"ClickbotStrings"});"abf"==t&&e.push({Product:"Internet.MasterPage",Key:"AbnLookup"});var i={settingsRequest:e};$.ajax({type:"POST",url:_spPageContextInfo.siteAbsoluteUrl+"/_layouts/15/api/Data.aspx/GetConfigSettings",data:"string"==typeof i?i:JSON.stringify(i),headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()},success:function(t){t.d.success?n(t.d.data):console.error(t.d.data.internalError)},dataType:"json",async:!1})}function e(e,n){if(app.siteoptions.useSiteDataScript){var i=app.sitedata.configItems;for(var o in i)if(i[o].product===e&&i[o].key===n)return i[o].value}else{var i;if(void 0!==typeof Storage){void 0===sessionStorage.configItems&&t(),i=JSON.parse(sessionStorage.configItems);for(var o in i)if(i[o].product===e&&i[o].key===n)return i[o].value}}}function n(t){void 0!==typeof Storage&&(sessionStorage.configItems=JSON.stringify(t))}return{getConfigByKey:function(t,n){return e(t,n)}}}()},function(t,e){Type.registerNamespace("app.versioning"),app.versioning=function(){var t;return getItemVersions=function(e,n,i){t=[];var o=e+"/_layouts/versions.aspx?list="+n+"&ID="+i;$.get(o,function(t){processVersions(t);$("body").append('<div id="version-history"><div class="versions-filter row"><div class="col-md-4"><label for="date-from">From</label><input type="date" id="date-from" class="form-control" name="from"></div><div class="col-md-4"><label for="date-to">To</label><input type="date" id="date-to" class="form-control" name="from"></div><div class="col-md-4"><button class="btn btn-primary" onclick="app.versioning.renderVersions()">Submit</button></div></div><div class="version-results"></div></div>'),SP.UI.ModalDialog.showModalDialog({html:document.getElementById("version-history"),title:"Version History",allowMaximize:!1,showClose:!0,autoSize:!0,width:900,height:800}),filterAndRender(6)})},getVersionAttributes=function(t,e){var n=_spPageContextInfo.siteAbsoluteUrl+"/Pages/Forms/DispForm.aspx?ID="+t+"&VersionNo="+e;$.get(n,function(t){var n=getSchemaFromMarkup(t),i=$("<table />"),o=buildSchemaList(i,JSON.parse(n)),a=document.querySelectorAll('input[id$="_PageSchemaHiddenField_Input"]')[0].value,s=$("<table />"),r=buildSchemaList(s,JSON.parse(a));console.log(JSON.parse(a));var l=htmldiff(o.prop("outerHTML"),r.prop("outerHTML")),c=$("<div id='list-container'></div>");c.append(l),$("body").append(c),SP.UI.ModalDialog.showModalDialog({html:document.getElementById("list-container"),title:"Version "+e,allowMaximize:!1,showClose:!0,autoSize:!0,width:1e3,height:800})})},getSchemaFromMarkup=function(t){var e="";return $(t).find("table.ms-formtable").find("tr").each(function(){if("Page Schema"==$(this).find("td:eq(0)").text().trim()){var t=$(this).find("td:eq(1)");e=t.text().trim()}}),e},buildSchemaList=function(t,e){for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]){var i=n.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase(),o=t.find("tr:last").hasClass("json-parent-obj");o?t.find("tr:last").find("b").append(" > "+i):(!Array.isArray(e[n])||Array.isArray(e[n])&&e[n].length>0)&&t.append('<tr class="json-parent-obj"><td colspan="2"><p><b>'+i+"</b></p></td></tr>"),t=buildSchemaList(t,e[n])}else{var i=$("<div>").html(e[n]).text(),a=n.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase();"id"!=a&&"true"!=i&&"false"!=i&&t.append('<tr><td width="200"><p>'+a+"</p></td><td><p>"+i+"</p></td></tr>")}return t},filterAndRender=function(e){var n="",i=document.querySelectorAll('input[id$="_PageSchemaHiddenField_Input"]').length>0,o=[],a=new Date($("#date-from").val()),s=new Date($("#date-to").val());o=""==$("#date-from").val()||""==$("#date-to").val()?t.slice(0,e):t.filter(function(t){return t.date>=a&&t.date<=s});var r="<div id='version-history'><table class='table'><thead><tr><th>Version</th><th>Date</th><th>Modified By</th><th></th><th></th><th></th></tr></thead><tbody>";o.forEach(function(t,o){var a="<tr><td><a href='"+t.url+'\' target="_blank">'+t.version+"</a></td><td>"+t.dateText+"</td><td>"+t.modifiedBy+"</td>";1==o&&(n=t.url),o>0&&o<e?(a=a+"<td><button onclick=\"app.versioning.comparePage('"+t.url+"')\">Compare Page</button></td>",i?a=a+"<td><button onclick=\"app.versioning.compareAttr('"+t.url+"')\">Compare Schema</button></td>":a+="<td></td>",a=a+"<td><button onclick=\"app.versioning.restore('"+n+"', '"+t.version+"')\">Restore</button></td></tr>"):a+="<td>Current Version</td></tr>",r+=a}),r+="</tbody></table></div>",$(".version-results").empty(),$(".version-results").append(r)},processVersions=function(e){$(e).find("table.ms-settingsframe").find("> tbody > tr").each(function(e){if(e>1){var n=$(this),i=(n.next(),n.find("td:first").html().trim());if(i.length>0){var o=n.find("td:eq(1)").find("a"),a=o.text(),s=getDateFromString(a),r=o.attr("href"),l=n.find("td:eq(4)").find("a").text();t.push({version:i,date:s,dateText:a,url:r,modifiedBy:l})}}})},getDateFromString=function(t){var e=t.trim().split(" ")[0],n=e.split("/"),i=n[2]+"-"+n[1]+"-"+n[0];return new Date(i)},restoreVersion=function(t,e){clientContext=new SP.ClientContext;var n=clientContext.get_web();oFile=n.getFileByServerRelativeUrl(t),oFile.checkOut(),clientContext.load(oFile),clientContext.executeQueryAsync(function(){oFile.get_versions().restoreByLabel(e),clientContext.load(oFile),clientContext.executeQueryAsync(function(){alert("Successfully reverted version "+e),window.location.reload()},function(t,e){alert("Error:- "+e.get_message())})},function(t,e){alert("Error:- "+e.get_message())})},{getVersions:function(){SP.SOD.loadMultiple(["sp.js","SP.UI.Dialog.js"],function(){var t=_spPageContextInfo.webAbsoluteUrl,e=_spPageContextInfo.pageListId,n=_spPageContextInfo.pageItemId;getItemVersions(t,e,n)})},renderVersions:function(){filterAndRender(100)},comparePage:function(t){SP.UI.ModalDialog.showModalDialog({url:t,title:"Version History",allowMaximize:!1,showClose:!0,autoSize:!0,width:2e3}),setTimeout(function(){$("iframe:last").contents().find(".footer-container").remove();var t=$("iframe:last").contents().find("#DeltaPlaceHolderMain"),e=$("#DeltaPlaceHolderMain").prop("outerHTML"),n=htmldiff(t.prop("outerHTML"),e);$("iframe:last").contents().find("main").empty().append(n)},5e3)},compareAttr:function(t){var e=_spPageContextInfo.pageItemId,n=t.split("=")[1];getVersionAttributes(e,n)},restore:function(t,e){if(confirm("Are you sure you want to restore version "+e+" ?")){var n=t.indexOf("/Pages"),i=t.indexOf("?"),o=t.substring(n,i);restoreVersion(o,e.toString())}}}}()},function(t,e){Type.registerNamespace("app.plugins"),window.app.plugins.datepicker=function(){return{init:function(){$.fn.datepicker&&"1"!==$("#MSOLayout_InDesignMode").val()&&$(".datepicker").datepicker({showOn:"button",buttonImageOnly:!1,changeMonth:!0,changeYear:!0,dateFormat:"dd/mm/yy",buttonText:"<i class='fa fa-calendar'></i><span class='screen-reader-text'>Select a date from the date picker</span>"})}}}(),app.sp.ui.add_load(window.app.plugins.datepicker.init)},function(t,e){Type.registerNamespace("app.plugins"),window.app.plugins.tooltip=function(){return{init:function(){$(".tooltip").tooltip({position:{my:"center bottom-10",at:"center top",using:function(t,e){$(this).css(t),$("<div>").addClass("tooltip-arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}})}}}(),_spBodyOnLoadFunctionNames.push("window.app.plugins.tooltip.init")},function(t,e){Type.registerNamespace("app.plugins"),window.app.plugins.url=function(){function t(){return null!=$("[data-getfilesize]")&&$("[data-getfilesize]").length>0}function e(){return null!=$("a[data-hashvalue]")&&$("a[data-hashvalue]").length>0}function n(t){app.sp.ajax.post("/_layouts/15/api/Data.aspx/GetSPFileSize",{urls:t},null,function(t){if(t.d.success){var e=t.d.data;$("[data-getfilesize]").each(function(t,n){var o=$(n).attr("data-getfilesize");if(null!=o&&""!=o){var a=i(e,o);if(null!=a&&""!=a){var s=$(n).text()+" ("+a+")";$(n).text(s)}}})}},function(t){console.log(t)})}function i(t,e){for(var n=0;n<t.length;n++)if(t[n].url==encodeURI(e))return t[n].size}return{init:function(){if("1"!==$("#MSOLayout_InDesignMode").val()){if(t()){var i=[];$("[data-getfilesize]").each(function(t,e){var n=$(e).attr("data-getfilesize");null!=n&&""!=n&&i.push(encodeURI(n))}),n(i)}e()&&$("a[data-hashvalue]").each(function(t,e){var n=$(e).attr("data-hashvalue");$(e).attr("href",$(e).attr("href")+"#"+n)})}},getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=location.href.split("?"),i="";return n.length>1&&(i="?"+n[1]),results=e.exec(i),null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},getParameterByNameFromUrlString:function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.split("%26"),o="";return i.length>1&&(o="?"+i[1]),results=n.exec(o),null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},getQueryStringParams:function(t,e){var n=window.location.toString().split("?")[1];if(void 0!=n)for(var i=n.split("&"),o=0;o<i.length;o++){var a=i[o].split("=");if(a[0]==t)return a[1];if(e&&a[0].toLowerCase()==t)return a[1]}return""}}}(),"undefined"!=typeof angular?angular.element(function(){window.setTimeout(window.app.plugins.url.init,200)}):_spBodyOnLoadFunctions.push(window.app.plugins.url.init)},function(t,e){function n(){$(".data-haurltarget").click(function(t){t.preventDefault();var e=$(this).attr("title");window.open(e)})}function i(){"immi"!==app.siteoptions.site&&"abf"!==app.siteoptions.site||(localStorage.getItem("showBetaPopup")?$("#beta-popup").removeClass("open"):($("#betaPopMessage").html(app.config.getConfigByKey("Internet.MasterPage","BetaMessage").trim()),$("#beta-popup").addClass("open"),localStorage.setItem("showBetaPopup",!1))),$(".popup-content").prop("tabindex","-1"),$(".popup-close-btn,.btn-dismiss").click(function(t){t.preventDefault(),$(this).closest(".popup-container").fadeOut("fast")}),$(".popup-trigger").click(function(t){t.preventDefault();var e=$(this).attr("href");window.open(e)}),$(".popup-container").click(function(){$(this).fadeOut("fast")}),$(".popup-content").click(function(t){t.stopPropagation()}),$("#external-link-popup").on("popup-opened",function(t,e){$("#externalPopMessage").html(app.config.getConfigByKey("Internet.MasterPage","ExternalPopupMessage").trim()),$(this).find(".link-clone").prop("href",e.href)})}$(document).ready(function(){i(),$("#tile-group-selector").on("change",function(){i()}),setTimeout(n,2e3)})},function(t,e){function n(){var t=$(".video-container"),e=$(".transcript-toggle-btn"),n=$(".collapse"),i=$(".overlay"),o=t.attr("data-id");if(o){var a="https://www.youtube.com/embed/"+t.attr("data-id")+"?autoplay=1",s="https://img.youtube.com/vi/"+o+"/0.jpg",r=!1;i.attr("style","background-image: url("+s+");"),t.on("click",function(){i.removeClass("in"),setTimeout(function(){i.addClass("hidden")},600),t.append($('<iframe width="560" height="315" src="'+a+'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>'))})}e.on("click",function(){r=!r,$(this).toggleClass("toggled",r),$(this).find("span").text(r?$(this).text().replace("See","Hide"):$(this).text().replace("Hide","See")),n.toggleClass("in",r)})}function i(){setTimeout(function(){$(".video-showcase .slide-section").length&&($("#videoModal").appendTo("body"),$(".slider-items .video-items").slick({prevArrow:".slide-controls .prevArrow",nextArrow:".slide-controls .nextArrow",infinite:!1,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:990,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]}))},1e3)}$(document).ready(function(){$(".video-player-single").length&&n(),i(),$(".close").click(function(t){$("#videoModal iframe").attr("src","")})})},function(t,e){!function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE"),n=t.indexOf("Trident");(e>0||n>0)&&(document.body.className+=" ie")}()},function(t,e){function n(){"1"!==document.getElementById("MSOLayout_InDesignMode").value&&($(".hero-block.pad-bottom").length&&$(".hero-bg").addClass("pad-bottom"),$(".tabs-container").length&&i(),$(".tabs-container-mobile").length&&o())}function i(){if(!(window.innerWidth<768)){var t=$("#s4-workspace"),e=$(".tabs-container .tabs"),n=($(".tabs-container"),e.offset().top-t.offset().top+t.scrollTop()),i=(e.height(),0);$("#s4-workspace").on("scroll",function(){var t=$("#s4-workspace").scrollTop()-$("#s4-workspace").offset().top;t>n&&(e.addClass("fixed"),t>i?e.addClass("up"):e.removeClass("up"),i=t),t<n&&e.removeClass("fixed")})}}function o(){function t(t){n=void 0!==t?Boolean(t):!n,e.toggleClass("toggled",n)}var e=$(".tabs-container-mobile .select-wrapper");a(e);var n=!1;e.on("click",function(e){e.stopPropagation(),t()}),$(window).on("click",function(){t(!1)})}function a(t){t.find(".child-tab").toArray().map(function(t){return $(t)}).forEach(function(t){var e=t.text(),n=Number(t.attr("data-level"))||0;t.html("- ".repeat(n)+e)})}$(document).ready(function(){n()})},function(t,e){Type.registerNamespace("app.smoothScroll"),app.smoothScroll={smoothScroll:function(t){$("#s4-workspace").animate({scrollTop:t},800)},smoothScrollToId:function(t){var e=$("#s4-workspace"),n=$("#"+t),i=n.offset().top-e.offset().top+e.scrollTop();this.smoothScroll(i)},smoothScrollToElement:function(t,e){e||(e=0);var n=$("#s4-workspace"),i=t.offset().top-n.offset().top+n.scrollTop();this.smoothScroll(i-e),t.trigger("click")},initSmoothScroll:function(){var t=this,e=$('a[href*="#"]').not('[href="#"]').not('[href="#0"]');e.length&&e.click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);if(n=n.length?n:$("[name="+this.hash.slice(1)+"]"),n.length){e.preventDefault();var i=120;$("body").hasClass("ie")&&(i=220),t.smoothScrollToElement(n,i)}}})}},$(document).ready(function(){app.smoothScroll.initSmoothScroll()})},function(t,e){jQuery(document).ready(function(t){"portfolio"===app.siteoptions.site&&t(".home-page").length&&(t("header").addClass("home"),t(".home-page").css("padding-top","80px"))})},function(t,e){Type.registerNamespace("app.carousel"),app.carousel=function(){function t(){var t=new Date,i=[],o=document.querySelector("#news-carousel-json").textContent.trim();if(o.length>0){var a=JSON.parse(o),s=_.filter(a,function(t){return t.location.toLowerCase()===app.siteoptions.site.toLowerCase()});if(s.length>0){var r=[],i=_.map(s[0].data,function(t){return t.ArticleDate=moment(t.ArticleDate,"DD/MM/YYYY"),t.CarouselExpiry=moment(t.CarouselExpiry,"YYYY-M-D"),t});if(i.forEach(function(e){var n=!!_spPageContextInfo.userId;e.CarouselExpiry>=t&&(n||!n&&"published"===e.Status)&&r.push(e)}),r.length>=3){var l=app.config.getConfigByKey("Internet.News","NewsCarouselMaxCount"),c=l?+l:6;n(r.slice(0,c))}else e(r,i)}}}function e(t,e){for(var i=0,o=_.filter(e,function(t){return"published"===t.Status}),a=_.orderBy(o,["ArticleDate"]).reverse();i<3;){var s=a[i];if(!$.isEmptyObject(s)){_.find(t,["Id",s.Id])||t.push(s)}i++}n(t)}function n(t){$(".archive-link").attr("href",a.archiveUrl),t.forEach(function(t){var e=_.find(a.othercontentsource,function(t){return t.title.toLowerCase()===app.siteoptions.site.toLowerCase()}),n=$("<div/>").html(s);n.find(".title").text(t.Title),n.find(".img-responsive").attr("src",a.maincontentsource+"/"+t.ImageUrl+"?RenditionID="+a.carouselItemRenditionId),n.find(".date").text(t.ArticleDate.format("DD MMM YYYY"));var i=_spPageContextInfo.userId?"authurl":"url";n.find(".news-link").attr("href",e[i]+a.newsItemUrl+t.Id),n.find(".sub-title").text(t.Summary),$(".news-slider").append(n)}),i()}function i(){var t=$(".news-slider");t.length>0&&t.slick({prevArrow:".news-slide-controls .prevArrow",nextArrow:".news-slide-controls .nextArrow",infinite:!1,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}var o=window.app.config.getConfigByKey("Internet.News","NewsContentSource"),a=o?JSON.parse(o.trim()):{},s='<div class="news-col"><div class="news-item"><a class="news-link" href=""><span class="image-parent"><img class="img-responsive" alt="" src=""/></span><span class="news-text"><span class="date"></span><span class="title"></span><span class="sub-title"></span></span></a> </div></div>';return{init:function(){t()}}}(),$(document).ready(function(){$(".news-slider").length>0&&app.carousel.init()})},function(t,e){function n(){$(".slide-section").each(function(){var t=$(this),e=t.find(".slide-controls .prevArrow"),n=t.find(".slide-controls .nextArrow"),i=t.find(".js-slider"),o=i.data("rows")?i.data("rows"):1;i.slick({prevArrow:e,nextArrow:n,infinite:!1,slidesToShow:3,slidesToScroll:3,rows:o,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})}$(document).ready(function(){$(".slide-section .js-slider").length&&n()})},function(t,e){$(document).ready(function(){$("#skip-to-main").click(function(){var t=$("#contentBox");t.attr("tabindex","0"),t.focus(),t.blur(function(){t.removeAttr("tabindex")})})})},function(t,e){Type.registerNamespace("app.clickbot"),app.clickbot={$el:$(".clickbot"),$botModel:$("#clickbot-modal"),$optionsContainer:$(".clickbot .options"),$convoContainer:$("#clickbot-convo-container"),$savedConvoHtml:"",newConvo:!0,isInFlow:!1,$feedbackActive:null,$clickbotConfig:null,$helloStr:"Hi, how can I help you?",$returnStr:"Anything else?",$glossaryMenuStr:"See definitions of complex terms",$feedbackMenuStr:"Submit feedback",$chatMenuStr:"Ask lopez?",$chatMenuIcon:'<i class="fa fa-user" style="font-size:2rem"></i> ',$botTitleStr:"Need a hand?",$feedbackTitleStr:"Tell us what you think",queries:[],defaultQueryOptions:[],feedbackFormMarkup:'<div class="feedback-form">      <div class="form-group">        <fieldset class="star-rating">          <legend class="can-error">Star Rating *</legend>          <input type="radio" id="star5" name="rating" value="5" tabindex="0" /><label class = "full" for="star5" title="Very useful" tabindex="0"></label>          <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Useful" tabindex="0"></label>          <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="Neutral" tabindex="0"></label>          <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Of some use" tabindex="0"></label>          <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Not useful" tabindex="0"></label>        </fieldset>      </div><div class="clearfix"></div>      <div class="form-group">        <label for="inputCategory">Category</label>        <select id="inputCategory" class="form-control">        </select>      </div>      <div class="form-group can-error">        <label for="taComments" class="can-error">Comments * <small>Please dont provide any personal details (for example name, passport number).</small></label>        <textarea class="form-control" id="taComments" rows="3" maxlength="1000"></textarea><span>Maximum 1000 characters.</span>      </div>{0}      <label class="has-error error-text hidden"><small>You must include either a star rating or comments to submit your feedback.</small></label>      <div class="clearfix"></div>    </div>',successMarkup:'Thank you, your feedback is valuable to us. <i class="fa fa-smile-o text-success"></i>',cancelMarkup:"Feedback cancelled",fatalErrorMarkup:"An error has occurred, feedback is currently unavailable",emailTemplateMarkup:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">    <html xmlns="http://www.w3.org/1999/xhtml">        <head>            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />            <title>New Feedback Submission</title>            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>            <style>                th{text-align:left;}td,th{padding:5px 5px 5px 0;}            </style>        </head>        <body>            <h1>New Page Feedback Submission</h1>            <p>New feedback has been submitted for page <a href="{0}">{0}</a></p>            <table>                <tr>                    <th>Star Rating</th>                    <td>{1}</td>                </tr>                <tr>                    <th>Category</th>                    <td>{2}</td>                </tr>                <tr>                    <th>Comments</th>                    <td>{3}</td>                </tr>            </table>        </body>    </html>',glossaryMarkup:'<div class="terms-container">      <div class="in-page-terms">        <div class="term-section-title">On this page</div>        <ul class="terms-list">        </ul>      </div>      <div class="all-terms">        <div class="term-section-title">All</div>        <div class="alphabet-nav"></div>        <ul class="terms-list">        </ul>      </div>  </div>',anythingElseMarkup:"Anything else?",init:function(){this.setupStrings(),this.addDefaultQueries();var t=this;if(this.$clickbotConfig=JSON.parse(app.config.getConfigByKey("Internet.Clickbot","ClickbotConfig").trim()),null==app.proactivechat||_spPageContextInfo.userId||(app.proactivechat.Init(),this.defaultQueryOptions.push({label:this.$chatMenuStr,icon:this.$chatMenuIcon,action:function(e){app.proactivechat.Open(),t.hideModelDialog(null)}})),this.$clickbotConfig.showFeedback||($(".footer-feedback .feedback-link").hide(),$(".footer-feedback .feedback-link").prev().hide()),this.$clickbotConfig.showGlossary||this.$clickbotConfig.showFeedback||$(".clickbot").hide(),this.$clickbotConfig.showGlossary){this.defaultQueryOptions.push({label:this.$glossaryMenuStr,action:function(t){t.showAllTerms()}});var e=[];if($(".clickbot-glossary").each(function(){e.push($(this).text())}),app.siteoptions.useSiteDataScript){var n=app.sitedata.glossaryTerms;n&&this.loadGlossariesIntoBot(n)}else this.checkGlossaryCache()}this.$clickbotConfig.showFeedback&&(this.defaultQueryOptions.push({label:this.$feedbackMenuStr,action:function(t){t.fetchCaptchaMarkup()}}),$(".feedback-link").click(function(){t.newConvo=!1,t.$feedbackActive?t.openDialog(null):t.openDialog(t.fetchCaptchaMarkup())})),$(".clickbot-button").click(function(){t.toggleDialog()}),$(".clickbot-close-button").click(function(){t.closeDialog()}),$(".close-dialog-option").click(function(){t.closeDialog()}),$("#clickbot-modal").find(".modal-title").text(t.$botTitleStr)},setupStrings:function(){if(app.config.getConfigByKey("Internet.Clickbot","ClickbotStrings")){var t=JSON.parse(app.config.getConfigByKey("Internet.Clickbot","ClickbotStrings").trim());t&&(t.hello&&(this.$helloStr=t.hello),t.return&&(this.$returnStr=t.return),t.chatmenuicon&&(this.$chatMenuIcon=t.chatmenuicon),t.chatmenu&&(this.$chatMenuStr=t.chatmenu),t.glossaryMenu&&(this.$glossaryMenuStr=t.glossaryMenu),t.feedbackMenu&&(this.$feedbackMenuStr=t.feedbackMenu),t.botTitle&&(this.$botTitleStr=t.botTitle),t.feedbackTitle&&(this.$feedbackTitleStr=t.feedbackTitle))}},addDefaultQueries:function(){this.queries.push({id:"hello",label:"",answer:this.$helloStr},{id:"return",label:"",answer:this.$returnStr,options:[{label:"Nothing, all good.",queryId:"nothing-all-good"}]},{id:"nothing-all-good",label:"",answer:"No worries, I'll be here if you need me",options:[]})},showModelDialog:function(t){this.$botModel.removeClass("hide"),t&&"function"==typeof t&&t(this)},hideModelDialog:function(t){this.$botModel.addClass("hide"),t&&"function"==typeof t&&t(this)},toggleDialog:function(){if(this.$el.hasClass("open")){if(null!=app.proactivechat&&app.proactivechat.IsChatOnPage()){null!=app.proactivechat.GetPlugin()&&app.proactivechat.Close(),this.showModelDialog(null)}this.closeDialog()}else this.openDialog(null),$("#clickbot-modal").focus()},closeDialog:function(t){this.$el.removeClass("open"),t&&"function"==typeof t&&t(this)},openDialog:function(t){this.$el.hasClass("open")||(this.$el.addClass("open"),this.newConvo&&(this.askBot("hello"),this.newConvo=!1),setTimeout(function(){$(".clickbot .modal-body").css({height:$(".clickbot .modal-content").outerHeight()-$(".clickbot .modal-header").outerHeight()})},100)),t&&"function"==typeof t&&t(this)},addQuery:function(t,e){if(!t.id)return void console.error("addQuery data needs an `id` attribute.");if(!t.answer)return void console.error("addQuery data needs an `answer` attribute.");var n=this.getQueryIndexById(t.id);n>0&&(console.warn("id already exists, replacing with new data"),this.queries[n]=t),this.queries.push(t),e()},getQueryIndexById:function(t){return this.getQueryById(t,!0)},getQueryById:function(t,e){for(var n=0;n<this.queries.length;n++){var i=this.queries[n];if(i.id.toLowerCase()===t.toLowerCase())return e?n:i}return!1},loadGlossariesIntoBot:function(t){var e=this;$.each(t,function(t,n){var i=n.definition;n.ismoredetails&&(i+='<div class="extra"><a href="'+e.$clickbotConfig.glossaryPage+"?expand=true#"+n.title.replace(/ /g,"-").toLowerCase()+'">See details <i class="fa fa-chevron-right pull-right"></i></a></div>'),e.addQuery({id:e.getGlossaryId(n.title),answer:i,label:e.getGlossaryLabel(n.title)},function(){})}),this.initInPageGlossaryLinks()},initInPageGlossaryLinks:function(){var t=this;$(".clickbot-glossary").click(function(e){e.preventDefault(),t.showPageGlossaryInBot(t.getGlossaryId($(this).text()))})},showPageGlossaryInBot:function(t){this.$feedbackActive&&(this.restoreConvoWithMessage(null),this.$feedbackActive=!1);var e=this;this.openDialog(function(){e.askBot(t)})},getGlossaryId:function(t){return"glossaryId"+t},getGlossaryLabel:function(t){return'What does "'+t+'" mean?'},renderOptions:function(t){this.$optionsContainer.empty(),this.appendOptions(t)},appendOptions:function(t){var e=this;t.map(function(t){var n=$('<button type="button" id="'+t.label.replace(/[_\W]+/g,"_")+'"></button>');n.click(function(){t.isCloseOption?e.closeDialog():t.isRestartOption&&e.askBot("hello"),t.queryId&&e.askBot(t.queryId),"function"==typeof t.action&&t.action(e)}),null!=t.icon?e.$optionsContainer.append(n.html(t.icon+t.label)):e.$optionsContainer.append(n.text(t.label))}),this.$convoContainer[0].scrollTop=this.$convoContainer[0].scrollHeight},askBot:function(t,e){e||(e=!1);var n=this.getQueryById(t);this.processBotData(n,e)},processBotData:function(t,e){if(e||(e=!1),!t)return void this.renderBotBubble({answer:"Sorry I don't understand."});t.label&&this.renderUserBubble(t.label),this.renderBotBubble(t,e)},thinking:function(){this.renderBubble('<div class="bubble left" id="thinking-bubble"><svg version="1.1" id="L4" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 70 100"><circle stroke="none" cx="6" cy="50" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.1"></animate></circle><circle stroke="none" cx="26" cy="50" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.2"></animate></circle><circle stroke="none" cx="46" cy="50" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.3"></animate></circle></svg></div>')},stopThinking:function(){$("#thinking-bubble").length>0&&$("#thinking-bubble").parent().remove()},renderBotBubble:function(t,e){e||(e=!1);var n=this;if("hello"===t.id){var i='<div class="bubble left">'+t.answer+"</div>";return n.showOptionsForQuery(t),void(e||n.renderBubble(i))}n.thinking(),setTimeout(function(){n.stopThinking();var e='<div class="bubble left">'+t.answer+"</div>";if("glossary"===t.type){var i=[{label:n.$glossaryMenuStr,action:function(t){t.showAllTerms()}}];t.addedDefaultOptions||(t.options?t.options=t.options.concat(i):t.options=i,t.addedDefaultOptions=!0)}t.type,n.showOptionsForQuery(t),n.renderBubble(e)},300)},showDefaultOptionsForQuery:function(){this.renderOptions(this.defaultQueryOptions)},showOptionsForQuery:function(t){if(t){if(t.options){var e=[{label:"Show me all menu options",action:function(t){t.askBot("hello",!0)}}],n=e.concat(t.options);return void this.renderOptions(n)}this.showDefaultOptionsForQuery()}},renderUserBubble:function(t){var e='<div class="bubble right">'+t+"</div>";this.renderBubble(e)},renderBubble:function(t){t='<div class="bubble-container">'+t+"</div>",this.$convoContainer.append(t),this.$convoContainer[0].scrollTop=this.$convoContainer[0].scrollHeight},fetchCaptchaMarkup:function(){if($("#clickbot-modal").find(".modal-title").text(this.$feedbackTitleStr),app.config.getConfigByKey("Internet.GoogleCaptcha","ReCaptchaScript")){var t=app.config.getConfigByKey("Internet.GoogleCaptcha","ReCaptchaScript").trim();this.feedbackFormMarkup=this.feedbackFormMarkup.format(t),this.configureFeedbackChatbot(),this.fetchFeedbackCategories("inputCategory")}else console.error("Configuration for google captcha not found")},setUpFlow:function(t){var e=!this.isInFlow;this.isInFlow=!0;var n=this;return new Promise(function(i,o){return e&&(n.$savedConvoHtml=n.$convoContainer.html()),n.$convoContainer.empty(),n.$convoContainer.append(t),n.$optionsContainer.empty(),i(n)})},configureFeedbackChatbot:function(){this.setUpFlow(this.feedbackFormMarkup).then(function(t){$(".feedback-form .star-rating label").each(function(){var t=$(this);t.keypress(function(e){13==e.which&&t.click()}),$("#clickbot-modal").focus()});var e=$('<button type="button">Cancel Feedback</button>');e.click(function(){t.restoreConvoWithMessage(t.cancelMarkup),t.$feedbackActive=!1});var n=$('<button type="submit" class="submit-feedback">Submit Feedback</button>');n.click(function(e){t.submitFeedback(e),t.$feedbackActive=!1}),t.$optionsContainer.append(n),t.$optionsContainer.append(e),t.$feedbackActive=!0})},fetchFeedbackCategories:function(t){app.sp.ajax.post("/_layouts/15/api/Termstore.aspx/GetTerms",{groupName:"IMMI",termSetName:"FeedbackCategories"},null,function(e){if(e.d.success){$("#"+t).empty();var n=$('<option value=""></option>');$("#"+t).append(n);for(var i=e.d.data,o=0;o<i.length;o++)$("<option />",{value:i[o].Value,text:i[o].Key}).appendTo("#"+t)}else console.error(e.d.data.internalError)})},submitFeedback:function(t){var e=$("#clickbot-modal");t.preventDefault(),e.find(".can-error").removeClass("has-error"),e.find(".error-text").addClass("hidden");var n=e.find(".star-rating :radio:checked").val(),i=e.find("#inputCategory").val(),o=e.find("#taComments").val();if(n||o)if(grecaptcha.getResponse()){e.find(".feedback-form").addClass("hidden"),e.find(".loading-container").removeClass("hidden");var a=this.emailTemplateMarkup.format(window.location.href,this.getRating(n),i,o);this.sendFeedback(a)}else e.find(".error-text").removeClass("hidden").text("Invalid reCaptcha. Please try again.");else e.find(".can-error").addClass("has-error"),e.find(".error-text").removeClass("hidden")},getRating:function(t){var e="Not rated";switch(t){case"1":e="Not useful";break;case"2":e="Of some use";break;case"3":e="Neutral";break;case"4":e="Useful";break;case"5":e="Very useful";break;default:e="Not rated"}return e},sendFeedback:function(t){var e=this;app.sp.ajax.post("/_layouts/15/api/ESB.aspx/SendFeedBack",{web:_spPageContextInfo.webServerRelativeUrl,item:_spPageContextInfo.pageItemId,message:t,googleCapcha:grecaptcha.getResponse()},null,function(t){t.d.success?(vs=t.d.data,null!=vs&&e.restoreConvoWithMessage(e.successMarkup)):t.d.userMessage?$("#clickbot-modal").find(".error-text").removeClass("hidden").text(t.d.userMessage):(console.error(t.d.data.internalError),e.restoreConvoWithMessage(e.fatalErrorMarkup))},function(t){console.log(t),e.restoreConvoWithMessage(e.fatalErrorMarkup)})},restoreConvoWithMessage:function(t){this.$convoContainer.html(this.$savedConvoHtml),t&&(this.renderBotBubble({answer:t}),this.askBot("return"));var e=this;$("#clickbot-modal").find(".modal-title").text(e.$botTitleStr),this.$convoContainer[0].scrollTop=this.$convoContainer[0].scrollHeight,this.isInFlow=!1},checkGlossaryCache:function(){var t=this;app.sp.ajax.post("/_layouts/15/api/Data.aspx/GetGlossaryLastItemModifiedDate",{},null,function(e){if(e.d.success){var n;void 0!==typeof Storage&&(n=sessionStorage.lastGlossaryUpdateDate),e.d.data!==n?(sessionStorage.lastGlossaryUpdateDate=e.d.data,t.updateGlossaryCache()):void 0!==typeof Storage&&t.loadGlossariesIntoBot(JSON.parse(sessionStorage.glossaryTerms))}else console.error(e.d.data.internalError)})},updateGlossaryCache:function(){var t=this;app.sp.ajax.post("/_layouts/15/api/Data.aspx/GetAllGlossaryTerms",{},null,function(e){e.d.success?void 0!==typeof Storage&&(sessionStorage.glossaryTerms=JSON.stringify(e.d.data),t.loadGlossariesIntoBot(JSON.parse(sessionStorage.glossaryTerms))):console.error(e.d.data.internalError)})},showAllTerms:function(){var t=$(this.glossaryMarkup);this.setUpFlow(t).then(function(e){var n=$('<button type="button">Cancel</button>');n.click(function(){e.restoreConvoWithMessage(null),e.askBot("return")}),e.$optionsContainer.append(n);var i=t.find(".in-page-terms .terms-list");if($(".clickbot-glossary").length>0){var o=[];$(".clickbot-glossary").each(function(){var t=$(this).text();if(-1===o.indexOf(t)){o.push(t);var n=$('<li><button type="button">'+t+"</button></li>");n.click(function(){e.restoreConvoWithMessage(null),e.askBot(e.getGlossaryId(t)),e.askBot("return")}),i.append(n)}})}else t.find(".in-page-terms").hide();if(app.siteoptions.useSiteDataScript)var a=app.sitedata.glossaryTerms;else var a=JSON.parse(sessionStorage.glossaryTerms);a.sort(function(t,e){return t.title.localeCompare(e.title)});var s="abcdefghijklmnopqrstuvwxyz".split(""),r=[],l=t.find(".all-terms .terms-list");a.map(function(t){var n=t.title.toLowerCase(),i=n.charAt(0),o=i.toUpperCase()+n.slice(1),a=$('<li class="nav-'+i+'"><button type="button">'+o+"</button></li>");a.click(function(){e.restoreConvoWithMessage(null),e.askBot(e.getGlossaryId(t.title)),e.askBot("return")}),-1===r.indexOf(i)&&r.push(i),l.append(a)}),r.sort();var c=t.find(".all-terms .alphabet-nav"),u=t.find(".in-page-terms").height();s.map(function(t){var n=$('<button type="button">'+t.toUpperCase()+"</button>");n.click(function(){var n=l.find(".nav-"+t).first();e.$convoContainer.animate({scrollTop:n.position().top+u})}),r.indexOf(t)>-1?c.append(n):(n.attr("disabled","disabled"),c.append(n))});var d=$(".all-terms"),p=d.height(),f=$(".all-terms .term-section-title").outerHeight();return c.css("top",f+"px"),e.$convoContainer.on("scroll",function(){var t=d.position().top+f;t>p&&(t=p),t<=0&&(c[0].style.webkitTransform="translateY("+(0-t)+"px)",c[0].style.msTransform="translateY("+(0-t)+"px)"),t>0&&(c[0].style.webkitTransform="translateY(0)",c[0].style.msTransform="translateY(0)")}),e}).then(function(t){t.$convoContainer.scrollTop(0)})},addDynamicQuery:function(t){var e=this;t&&t.length>0&&this.addQuery({id:"dynamic"+t,answer:$("#"+t).html()},function(){e.openDialog(function(){e.askBot("dynamic"+t)})})}},$(document).ready(function(){$(".clickbot").length>0&&app.clickbot.init()})},function(t,e){Type.registerNamespace("app.matchheight"),window.app.matchheight=function(){return{init:function(){"1"!==$("#MSOLayout_InDesignMode").val()&&$(".match-height")[0]&&$(window).resize(function(){if($(window).width()>=768){var t=0;$(".match-height .card-body").css("height","auto"),$(".card-body").each(function(){$(this).height()>t&&(t=$(this).height())}),$(".card-body").height(t)}}).resize()}}}(),$(document).ready(function(){window.app.matchheight.init()})}]);